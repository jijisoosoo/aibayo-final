<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<title layout:fragment="title">메인페이지</title>

<th:block layout:fragment="css">
    <link rel="stylesheet" href="/css/notepad/list.css" />
    <link rel="stylesheet" href="/css/main/main.css" />
    <link rel="stylesheet" href="/css/announce/card.css" />
</th:block>

<th:block layout:fragment="javascript">
    <script src="/js/main/main.js"></script>
</th:block>

<div class="container main_container" layout:fragment="content">

    <div class="main_top_box">

        <div class="meal_today scroll-parent">

            <div class="meal_today_title">오늘의 식단</div>


            <div class="meal_content_box scrollable">

                <th:block th:if="${meal != null}">
                    <div class="meal_item" th:each="detail : ${meal.mealDetails}"
                         th:object="${detail}">

                        <div class="meal_item_title" th:text="*{mealTypeName}">식단시간</div>


                        <div class="meal_item_body">

                            <div class="meal_item_text" th:each="menu : *{mealMenu.split('::')}"
                                 th:text="${menu}">
                                메뉴명
                            </div>

                        </div>

                    </div>
                </th:block>

                <div class="meal_empty" th:if="${meal == null || meal.mealDetails.size() == 0}">
                    식단이 등록되지 않았습니다.
                </div>

            </div>


            <div class="scroll-icon hidden">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 1024 1024">
                    <path fill="#8c8c8c" d="M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8l316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496" />
                </svg>
            </div>

        </div>


        <div class="login_info_box user_login_info_box">
            <div class="user_info_box border-bottom">

                <div class="login_info_svg">

                    <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" viewBox="0 0 150 150" fill="none">
                        <path d="M100 62.5C100 69.1304 97.3661 75.4893 92.6777 80.1777C87.9893 84.8661 81.6304 87.5 75 87.5C68.3696 87.5 62.0107 84.8661 57.3223 80.1777C52.6339 75.4893 50 69.1304 50 62.5C50 55.8696 52.6339 49.5107 57.3223 44.8223C62.0107 40.1339 68.3696 37.5 75 37.5C81.6304 37.5 87.9893 40.1339 92.6777 44.8223C97.3661 49.5107 100 55.8696 100 62.5Z" fill="#FFDB21"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M72.45 137.45C39.1156 136.113 12.5 108.663 12.5 75C12.5 40.4813 40.4813 12.5 75 12.5C109.519 12.5 137.5 40.4813 137.5 75C137.5 109.519 109.519 137.5 75 137.5H74.1437C73.5771 137.5 73.0125 137.483 72.45 137.45ZM34.8938 114.437C34.4265 113.096 34.2674 111.666 34.4284 110.254C34.5894 108.842 35.0663 107.484 35.8237 106.282C36.5811 105.08 37.5996 104.063 38.8035 103.309C40.0074 102.554 41.3659 102.08 42.7781 101.922C67.1406 99.225 83.0094 99.4687 107.253 101.978C108.667 102.125 110.029 102.593 111.235 103.347C112.441 104.1 113.459 105.118 114.212 106.324C114.965 107.53 115.432 108.892 115.579 110.306C115.726 111.72 115.548 113.149 115.059 114.484C125.45 103.972 131.269 89.7812 131.25 75C131.25 43.9344 106.066 18.75 75 18.75C43.9344 18.75 18.75 43.9344 18.75 75C18.75 90.3625 24.9094 104.287 34.8938 114.437Z" fill="#FFDB21"/>
                    </svg>

                </div>


                <div class="login_user_name" th:text="|${loginInfo.name} ${roleName}|">사용자</div>


                <div class="login_setting_box">

                    <a class="text-decoration-none setting_text" href="#" id="logoutButton">로그아웃</a>
                    <a class="text-decoration-none setting_text" href="#">설정</a>

                </div>

            </div>


            <div class="kids_info_box dropdown">

                <button class="dropdown-toggle kids_info_toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">

                    <div class="kid_info_svg_box">
                        <svg xmlns="http://www.w3.org/2000/svg" width="75" height="76" viewBox="0 0 75 76" fill="none">
                            <path d="M37.5 42.1667C41.5278 42.1667 44.9653 40.7431 47.8125 37.8958C50.6597 35.0486 52.0833 31.6111 52.0833 27.5833C52.0833 23.5556 50.6597 20.1181 47.8125 17.2708C44.9653 14.4236 41.5278 13 37.5 13C33.4722 13 30.0347 14.4236 27.1875 17.2708C24.3403 20.1181 22.9167 23.5556 22.9167 27.5833C22.9167 31.6111 24.3403 35.0486 27.1875 37.8958C30.0347 40.7431 33.4722 42.1667 37.5 42.1667ZM8.33333 75.5C6.04167 75.5 4.08056 74.6847 2.45 73.0542C0.819445 71.4236 0.00277778 69.4611 0 67.1667V8.83333C0 6.54167 0.816667 4.58056 2.45 2.95C4.08333 1.31944 6.04444 0.502778 8.33333 0.5H66.6667C68.9583 0.5 70.9208 1.31667 72.5542 2.95C74.1875 4.58333 75.0028 6.54444 75 8.83333V67.1667C75 69.4583 74.1847 71.4208 72.5542 73.0542C70.9236 74.6875 68.9611 75.5028 66.6667 75.5H8.33333ZM8.33333 67.1667H66.6667V62.375C62.9167 58.6944 58.5597 55.7958 53.5958 53.6792C48.6319 51.5625 43.2667 50.5028 37.5 50.5C31.7333 50.4972 26.3681 51.5569 21.4042 53.6792C16.4403 55.8014 12.0833 58.7 8.33333 62.375V67.1667Z" fill="#FFDB21"/>
                        </svg>
                    </div>

                    <div class="kid_info_box">

                        <div class="kid_info_row">
                            <div class="kid_info_text text-compact" th:text="${nowKid.kidName}">원생명</div>
                            <div class="kid_info_text text-compact"
                                 th:text="|(${#temporals.format(nowKid.kidBirth, 'yyyy.MM.dd')})|">
                                (yyyy.MM.dd)
                            </div>
                        </div>

                        <div class="kid_info_row">
                            <div class="kid_info_text text-compact"
                                 th:text="${kinderInfo.kinderName}">
                                유치원명
                            </div>
<!--                            <div class="kid_info_text text-compact">-->
<!--                                (소속반)-->
<!--                            </div>-->
                        </div>

                    </div>

                    <div class="kid_info_dropdown_button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50" fill="none">
                            <path d="M23.9062 30.1563L16.3541 22.6042C16.25 22.5 16.1722 22.3875 16.1208 22.2667C16.0694 22.1459 16.043 22.0153 16.0416 21.875C16.0416 21.5973 16.1375 21.3542 16.3291 21.1459C16.5208 20.9375 16.7722 20.8334 17.0833 20.8334H32.9166C33.2291 20.8334 33.4812 20.9375 33.6729 21.1459C33.8645 21.3542 33.9597 21.5973 33.9583 21.875C33.9583 21.9445 33.8541 22.1875 33.6458 22.6042L26.0937 30.1563C25.9201 30.3299 25.7465 30.4514 25.5729 30.5209C25.3993 30.5903 25.2083 30.625 25 30.625C24.7916 30.625 24.6007 30.5903 24.427 30.5209C24.2534 30.4514 24.0798 30.3299 23.9062 30.1563Z" fill="#FFDB21"/>
                        </svg>
                    </div>

                </button>

                <ul class="dropdown-menu kid_info_dropdown_menu" data-bs-auto-close="outside">
                    <li>
                        <a class="dropdown-item" th:href="@{|/kid/user/${loginInfo.kidNo}|}">
                            현재 원생 정보 확인
                        </a>
                    </li>
                    <li><hr class="dropdown-divider"></li>
                    <li><div class="dropdown-item none-clickable">원생 선택</div></li>
                    <li><hr class="dropdown-divider"></li>
                    <li th:each="kid : ${kids}" th:object="${kid}" th:if="${kid.kidName != nowKid.kidName}">
                        <a class="dropdown-item select_kid"
                           th:data-kid-no="*{kidNo}" th:text="*{kidName}">
                            원생명
                        </a>
                    </li>
                </ul>

            </div>

        </div>

    </div>


    <div class="recent_board_box ann-list">

        <div class="recent_board_title_box">
            <div class="recent_board_title">최근 글</div>
        </div>

        <div class="recent_board_body">

            <div th:if="${notepad == null && announces.size() == 0}" class="board_empty">
                글이 아직 등록되지 않았습니다.
            </div>

            <a th:if="${notepad != null}"
               class="text-reset text-decoration-none recent_board_content"
               th:object="${notepad}" th:href="@{|/notepad/user/*{notepadNo}|}">
                <div class="card class_18">

                    <div class="class_19">
                        <svg xmlns="http://www.w3.org/2000/svg" width="212" height="212" viewBox="0 0 212 212" fill="none">
                            <path d="M88.3333 88.3332C88.3333 86.5861 87.8153 84.8783 86.8446 83.4256C85.874 81.973 84.4944 80.8408 82.8804 80.1722C81.2663 79.5037 79.4902 79.3287 77.7767 79.6696C76.0632 80.0104 74.4893 80.8517 73.2539 82.0871C72.0185 83.3224 71.1772 84.8964 70.8364 86.6099C70.4956 88.3234 70.6705 90.0995 71.3391 91.7135C72.0076 93.3276 73.1398 94.7072 74.5925 95.6778C76.0451 96.6484 77.7529 97.1665 79.5 97.1665C81.8427 97.1665 84.0895 96.2358 85.7461 94.5793C87.4027 92.9227 88.3333 90.6759 88.3333 88.3332ZM128.083 124.197C127.08 123.609 125.971 123.225 124.82 123.067C123.668 122.908 122.497 122.979 121.372 123.274C120.248 123.57 119.193 124.084 118.268 124.788C117.343 125.492 116.566 126.372 115.982 127.377C114.979 129.14 113.527 130.606 111.774 131.625C110.02 132.645 108.028 133.182 106 133.182C103.972 133.182 101.98 132.645 100.226 131.625C98.473 130.606 97.0211 129.14 96.0183 127.377C95.4339 126.372 94.6569 125.492 93.7318 124.788C92.8068 124.084 91.7519 123.57 90.6276 123.274C89.5034 122.979 88.3318 122.908 87.1802 123.067C86.0286 123.225 84.9196 123.609 83.9167 124.197C81.8962 125.362 80.4186 127.279 79.8063 129.53C79.194 131.78 79.4967 134.182 80.6483 136.21C83.2104 140.669 86.9033 144.373 91.3544 146.949C95.8054 149.526 100.857 150.882 106 150.882C111.143 150.882 116.195 149.526 120.646 146.949C125.097 144.373 128.79 140.669 131.352 136.21C132.503 134.182 132.806 131.78 132.194 129.53C131.581 127.279 130.104 125.362 128.083 124.197ZM132.5 79.4998C130.753 79.4998 129.045 80.0179 127.592 80.9885C126.14 81.9591 125.008 83.3387 124.339 84.9528C123.67 86.5669 123.496 88.343 123.836 90.0565C124.177 91.77 125.019 93.3439 126.254 94.5793C127.489 95.8146 129.063 96.6559 130.777 96.9968C132.49 97.3376 134.266 97.1627 135.88 96.4941C137.494 95.8255 138.874 94.6933 139.845 93.2407C140.815 91.7881 141.333 90.0802 141.333 88.3332C141.333 85.9904 140.403 83.7436 138.746 82.0871C137.09 80.4305 134.843 79.4998 132.5 79.4998ZM106 17.6665C88.5293 17.6665 71.451 22.8472 56.9246 32.5534C42.3983 42.2595 31.0764 56.0553 24.3906 72.1961C17.7049 88.3369 15.9556 106.098 19.364 123.233C22.7723 140.368 31.1853 156.107 43.5389 168.461C55.8925 180.815 71.632 189.228 88.767 192.636C105.902 196.044 123.663 194.295 139.804 187.609C155.945 180.923 169.74 169.602 179.446 155.075C189.153 140.549 194.333 123.471 194.333 106C194.333 94.3997 192.049 82.9132 187.609 72.1961C183.17 61.479 176.664 51.7412 168.461 43.5387C160.259 35.3362 150.521 28.8296 139.804 24.3905C129.087 19.9513 117.6 17.6665 106 17.6665ZM106 176.666C89.5463 176.738 73.5835 171.065 60.8644 160.627C48.1454 150.188 39.4675 135.639 36.3272 119.487C33.187 103.336 35.7812 86.595 43.6625 72.1514C51.5439 57.7079 64.2183 46.4674 79.5 40.3682C79.4091 41.6327 79.4091 42.902 79.5 44.1665C79.5 51.1947 82.2919 57.9351 87.2617 62.9048C92.2314 67.8745 98.9718 70.6665 106 70.6665C108.343 70.6665 110.59 69.7358 112.246 68.0793C113.903 66.4227 114.833 64.1759 114.833 61.8332C114.833 59.4904 113.903 57.2436 112.246 55.5871C110.59 53.9305 108.343 52.9998 106 52.9998C103.657 52.9998 101.41 52.0692 99.7539 50.4126C98.0973 48.756 97.1667 46.5092 97.1667 44.1665C97.1667 41.8238 98.0973 39.577 99.7539 37.9204C101.41 36.2638 103.657 35.3332 106 35.3332C124.742 35.3332 142.716 42.7784 155.969 56.031C169.221 69.2835 176.667 87.2579 176.667 106C176.667 124.742 169.221 142.716 155.969 155.969C142.716 169.221 124.742 176.666 106 176.666Z" fill="#FFDB21"/>
                        </svg>
                    </div>

                    <div class="card-body class_91">
                        <div class="class_20">

                            <div class="class_22" th:text="*{#temporals.format(notepadDate, 'yyyy년 MM월 dd일')}">
                                2024년 05월 30일
                            </div>

                            <div class="class_21 text-compact" th:text="*{boardTitle}">
                                이 공간에 알림장 제목을 표시합니다.
                            </div>

                        </div>
                    </div>

                </div>
            </a>


            <a class="card recent_board_content"
               th:each="announce : ${announces}" th:object="${announce}" th:href="@{|/announce/admin/*{announceNo}|}">
                <div class="frame-3 text_div">
                    <span style="font-weight:bold;">[</span>
                    <span class="teacher" th:if="${announce.announceType == 1}">선생님만</span>
                    <span class="notice" th:if="${announce.announceType == 2}">원 공지</span>
                    <span class="schedule" th:if="${announce.announceType == 3}">일정 / 행사</span>
                    <span class="edu" th:if="${announce.announceType == 4}">교육</span>
                    <span class="pay" th:if="${announce.announceType == 5}">보육료</span>
                    <span style="font-weight:bold;">]</span>
                    <p class="p text-compact" th:title="*{boardTitle}" th:text="*{boardTitle}"></p>
                </div>
                <div class="frame-wrapper">
                    <div class="frame-4">
                        <div class="frame-5">
                            <div class="frame-6">
                                <div class="frame-7">
<!--                                    <div class="avatar-wrapper">-->
<!--                                        <div class="avatar">-->
<!--                                            <img class="rectangle" alt="Rectangle" src="rectangle-1.png" />-->
<!--                                        </div>-->
<!--                                    </div>-->
                                </div>
                            </div>
                        </div>
                        <div class="frame-8">
                            <div class="text-wrapper-4">
                                <span th:text="*{name}">[Name]</span>
                                <span th:if="*{roleNo == 1}" th:text="' 원장 선생님'">[Principal Teacher]</span>
                                <span th:if="*{roleNo == 2}" th:text="' 선생님'">[Teacher]</span>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="frame-9">
                    <div class="text-wrapper-5" th:text="*{#temporals.format(boardRegDate, 'yyyy년 MM월 dd일')}"></div>
                </div>
                <div class="frame-10">
                    <p class="text-wrapper-6" th:text="*{boardContents}"></p>
                </div>
            </a>

        </div>

    </div>


    <div class="weather_dust_box">


        <div class="weather_box" th:data-nx="${sggInfo.nx}" th:data-ny="${sggInfo.ny}">

            <div class="weather_text_box">

                <div class="weather_title">날씨 정보</div>

                <div class="weather_body">
<!--                    <div class="weather_temperature">35℃</div>-->
<!--                    <div class="weather_desc">맑음</div>-->
                </div>

            </div>

            <div class="weather_svg solar">
<!--                <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 230 230" fill="none">-->
<!--                    <path d="M172.5 115C172.5 130.25 166.442 144.875 155.659 155.659C144.875 166.442 130.25 172.5 115 172.5C99.75 172.5 85.1247 166.442 74.3414 155.659C63.558 144.875 57.5 130.25 57.5 115C57.5 99.75 63.558 85.1247 74.3414 74.3414C85.1247 63.558 99.75 57.5 115 57.5C130.25 57.5 144.875 63.558 155.659 74.3414C166.442 85.1247 172.5 99.75 172.5 115Z"-->
<!--                          fill="#FFDB21"/>-->
<!--                    <path fill-rule="evenodd" clip-rule="evenodd"-->
<!--                          d="M115 11.9792C116.906 11.9792 118.734 12.7364 120.082 14.0844C121.43 15.4323 122.187 17.2604 122.187 19.1667V28.75C122.187 30.6563 121.43 32.4844 120.082 33.8323C118.734 35.1803 116.906 35.9375 115 35.9375C113.094 35.9375 111.266 35.1803 109.918 33.8323C108.57 32.4844 107.812 30.6563 107.812 28.75V19.1667C107.812 17.2604 108.57 15.4323 109.918 14.0844C111.266 12.7364 113.094 11.9792 115 11.9792ZM42.157 42.1571C43.5047 40.8111 45.3315 40.0551 47.2362 40.0551C49.1409 40.0551 50.9677 40.8111 52.3154 42.1571L56.0816 45.9138C57.3915 47.2687 58.1169 49.084 58.1014 50.9685C58.0859 52.8531 57.3308 54.6562 55.9989 55.9894C54.6669 57.3227 52.8645 58.0794 50.9799 58.0967C49.0954 58.1139 47.2795 57.3903 45.9233 56.0817L42.157 52.3154C40.8111 50.9678 40.055 49.141 40.055 47.2363C40.055 45.3316 40.8111 43.5048 42.157 42.1571ZM187.843 42.1571C189.189 43.5048 189.945 45.3316 189.945 47.2363C189.945 49.141 189.189 50.9678 187.843 52.3154L184.077 56.0817C182.714 57.3513 180.912 58.0425 179.05 58.0096C177.188 57.9768 175.411 57.2224 174.094 55.9056C172.778 54.5887 172.023 52.8121 171.99 50.95C171.958 49.088 172.649 47.2859 173.918 45.9234L177.685 42.1571C179.032 40.8111 180.859 40.0551 182.764 40.0551C184.668 40.0551 186.495 40.8111 187.843 42.1571ZM11.9791 115C11.9791 113.094 12.7364 111.266 14.0843 109.918C15.4322 108.57 17.2604 107.813 19.1666 107.813H28.75C30.6562 107.813 32.4844 108.57 33.8323 109.918C35.1802 111.266 35.9375 113.094 35.9375 115C35.9375 116.906 35.1802 118.734 33.8323 120.082C32.4844 121.43 30.6562 122.188 28.75 122.188H19.1666C17.2604 122.188 15.4322 121.43 14.0843 120.082C12.7364 118.734 11.9791 116.906 11.9791 115ZM194.062 115C194.062 113.094 194.82 111.266 196.168 109.918C197.516 108.57 199.344 107.813 201.25 107.813H210.833C212.74 107.813 214.568 108.57 215.916 109.918C217.264 111.266 218.021 113.094 218.021 115C218.021 116.906 217.264 118.734 215.916 120.082C214.568 121.43 212.74 122.188 210.833 122.188H201.25C199.344 122.188 197.516 121.43 196.168 120.082C194.82 118.734 194.062 116.906 194.062 115ZM173.918 173.918C175.266 172.572 177.093 171.816 178.997 171.816C180.902 171.816 182.729 172.572 184.077 173.918L187.843 177.685C188.549 178.343 189.115 179.136 189.508 180.018C189.901 180.899 190.112 181.851 190.129 182.816C190.146 183.781 189.969 184.74 189.607 185.635C189.246 186.53 188.708 187.343 188.025 188.025C187.343 188.708 186.53 189.246 185.635 189.607C184.74 189.969 183.781 190.146 182.816 190.129C181.851 190.112 180.899 189.901 180.018 189.508C179.136 189.115 178.343 188.549 177.685 187.843L173.918 184.077C172.572 182.729 171.816 180.902 171.816 178.998C171.816 177.093 172.572 175.266 173.918 173.918ZM56.0816 173.918C57.4276 175.266 58.1836 177.093 58.1836 178.998C58.1836 180.902 57.4276 182.729 56.0816 184.077L52.3154 187.843C51.6574 188.549 50.8639 189.115 49.9822 189.508C49.1005 189.901 48.1488 190.112 47.1837 190.129C46.2186 190.146 45.26 189.969 44.3651 189.607C43.4701 189.246 42.6571 188.708 41.9746 188.025C41.2921 187.343 40.754 186.53 40.3925 185.635C40.031 184.74 39.8535 183.781 39.8705 182.816C39.8876 181.851 40.0988 180.899 40.4916 180.018C40.8845 179.136 41.4509 178.343 42.157 177.685L45.9137 173.918C46.5812 173.25 47.3737 172.721 48.2461 172.359C49.1184 171.998 50.0534 171.812 50.9977 171.812C51.9419 171.812 52.8769 171.998 53.7493 172.359C54.6216 172.721 55.4141 173.25 56.0816 173.918ZM115 194.063C116.906 194.063 118.734 194.82 120.082 196.168C121.43 197.516 122.187 199.344 122.187 201.25V210.833C122.187 212.74 121.43 214.568 120.082 215.916C118.734 217.264 116.906 218.021 115 218.021C113.094 218.021 111.266 217.264 109.918 215.916C108.57 214.568 107.812 212.74 107.812 210.833V201.25C107.812 199.344 108.57 197.516 109.918 196.168C111.266 194.82 113.094 194.063 115 194.063Z"-->
<!--                          fill="#FFDB21"/>-->
<!--                </svg>-->
            </div>

        </div>


        <div class="dust_box"  th:data-station-name="${sggInfo.stationName}">

            <div class="fine_box">
                <div class="fine_body">
                    <div class="fine_title">미세먼지</div>
                    <div class="fine_desc">좋음</div>
                </div>
            </div>

            <div class="fine_box">
                <div class="fine_body">
                    <div class="fine_title">초미세먼지</div>
                    <div class="fine_desc">좋음</div>
                </div>
            </div>

        </div>


    </div>

</div>

